<Prefab>
	<Constants>
	</Constants>

	<Window>
		<Widget HorizontalAlignment="Center" HeightSizePolicy="StretchToParent" WidthSizePolicy="StretchToParent" MarginTop="20" MarginBottom="80">
			<Children>

				<!-- Inventar Grid -->
				<Widget HorizontalAlignment="Center" SuggestedHeight="300" SuggestedWidth="800" PositionYOffset="-120" MarginBottom="50">
					<Children>
						<Standard.Window Parameter.Title="Inventory">
							<Children>
								<GridWidget Id="InventoryGrid" DataSource="{InventoryItems}" DefaultCellHeight="140" DefaultCellWidth="140" HorizontalAlignment="Center" VerticalAlignment="Center" ColumnCount="5" MarginTop="30" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
									<ItemTemplate>
										<PEInventorySlot DataSource="{..\..}" />
									</ItemTemplate>
								</GridWidget>
							</Children>
						</Standard.Window>
					</Children>
				</Widget>

				<!-- Import/Export MenÃ¼ -->
				<Widget HorizontalAlignment="Center" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="800" SuggestedHeight="800" VerticalAlignment="Center" MarginBottom="50" PositionYOffset="150" IsVisible="true">
					<Children>
						<Standard.Window Parameter.Title="Import/Export">
							<Children>
								<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" StackLayout.LayoutMethod="VerticalBottomToTop">
									<Children>

										<!-- Suchfeld -->
										<ListPanel MarginBottom="5" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren">
											<Children>
												<TextWidget WidthSizePolicy="StretchToParent" Text="Search For Item" MarginTop="45"></TextWidget>
												<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="55" MarginLeft="15" MarginRight="15" MarginTop="15" Sprite="General\CharacterCreation\name_input_area">
													<Children>
														<EditableTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="ClanNaming.NameInput.Text" Text="@Filter" GamepadNavigationIndex="0" />
													</Children>
												</Widget>
											</Children>
										</ListPanel>

										<!-- Liste der Items -->
										<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" StackLayout.LayoutMethod="HorizontalLeftToRight">
											<Children>
												<ScrollablePanel Id="ScrollablePanel" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" HorizontalAlignment="Left" VerticalAlignment="Center" AutoHideScrollBars="true" ClipRect="ClipRect" InnerPanel="ClipRect\ItemList" VerticalScrollbar="..\VerticalScrollbar">
													<Children>
														<Widget Id="ClipRect" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" ClipContents="true" VerticalAlignment="Center">
															<Children>
																<ListPanel Id="ItemList" DataSource="{FilteredItemList}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop" MarginTop="20">
																	<ItemTemplate>
																		<PEImportExportItem Parameter.ItemDataSource="{..\..}" />
																	</ItemTemplate>
																</ListPanel>
															</Children>
														</Widget>
													</Children>
												</ScrollablePanel>

												<!-- Scrollbar breiter fÃ¼r bessere Bedienung -->
												<ScrollbarWidget Id="VerticalScrollbar" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="12" HorizontalAlignment="Right" VerticalAlignment="Center" MarginTop="0" MarginBottom="0" AlignmentAxis="Vertical" Handle="VerticalScrollbarHandle" MaxValue="100" MinValue="0">
													<Children>
														<Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="6" HorizontalAlignment="Center" Sprite="BlankWhiteSquare_9" AlphaFactor="0.2" Color="#5a4033FF" />
														<ImageWidget Id="VerticalScrollbarHandle" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="12" SuggestedHeight="10" HorizontalAlignment="Center" Brush="FaceGen.Scrollbar.Handle" />
													</Children>
												</ScrollbarWidget>

											</Children>
										</ListPanel>

										<!-- Preisinformation besser lesbar -->
										<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop">
											<Children>
												<TextWidget Text="ðŸ”¹ **E = Export Price | I = Import Price** ðŸ”¹" WidthSizePolicy="CoverChildren" SuggestedHeight="50" HorizontalAlignment="Center" Brush="PE.Text.Info"></TextWidget>

												<!-- Import / Export Buttons -->
												<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight">
													<Children>
														<ButtonWidget DoNotPassEventsToChildren="true" UpdateChildrenStates="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="100" HorizontalAlignment="Center" Brush="WideButton.Flat" Command.Click="ExecuteExport" IsEnabled="@CanExport">
															<Children>
																<TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" VerticalAlignment="Center" Brush="MPLobby.PlayButton.Text" Brush.FontSize="25" Brush.TextVerticalAlignment="Center" Text="ðŸ“¦ Export" />
															</Children>
														</ButtonWidget>

														<ButtonWidget DoNotPassEventsToChildren="true" UpdateChildrenStates="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="100" HorizontalAlignment="Center" Brush="WideButton.Flat" Command.Click="ExecuteImport" IsEnabled="@CanImport">
															<Children>
																<TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" VerticalAlignment="Center" Brush="MPLobby.PlayButton.Text" Brush.FontSize="25" Brush.TextVerticalAlignment="Center" Text="ðŸ“¥ Import" />
															</Children>
														</ButtonWidget>

													</Children>
												</ListPanel>

											</Children>
										</ListPanel>

									</Children>
								</ListPanel>
							</Children>
						</Standard.Window>
					</Children>
				</Widget>

			</Children>
		</Widget>
	</Window>
</Prefab>
