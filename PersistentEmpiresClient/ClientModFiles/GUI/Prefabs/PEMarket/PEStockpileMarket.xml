<Prefab>
	<Constants>
	</Constants>

	<Window>
		<Widget HorizontalAlignment="Center" HeightSizePolicy="StretchToParent" WidthSizePolicy="StretchToParent" MarginTop="20" MarginBottom="80">
			<Children>

				<!-- Linke Seite: Rüstung -->
				<Widget Id="LeftArmors" DataSource="{PlayerInventory}" WidthSizePolicy="CoverChildren" HorizontalAlignment="Left" HeightSizePolicy="CoverChildren" PositionYOffset="130">
					<Children>
						<ListPanel VerticalAlignment="Center" StackLayout.LayoutMethod="VerticalBottomToTop" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
							<Children>
								<PEEquipmentSlot Parameter.ItemDataSource="{HelmSlot}" Parameter.EquipmentBrush="PE.InventorySlot.HeadArmor" HorizontalAlignment="Left" MarginLeft="1" />
								<PEEquipmentSlot Parameter.ItemDataSource="{CapSlot}" Parameter.EquipmentBrush="PE.InventorySlot.CapeArmor" HorizontalAlignment="Left" MarginTop="-20" MarginLeft="1" />
								<PEEquipmentSlot Parameter.ItemDataSource="{BodySlot}" Parameter.EquipmentBrush="PE.InventorySlot.BodyArmor" HorizontalAlignment="Left" MarginTop="-20" MarginLeft="1" />
								<PEEquipmentSlot Parameter.ItemDataSource="{HandSlot}" Parameter.EquipmentBrush="PE.InventorySlot.HandArmor" HorizontalAlignment="Left" MarginTop="-20" MarginLeft="1" />
								<PEEquipmentSlot Parameter.ItemDataSource="{LegSlot}" Parameter.EquipmentBrush="PE.InventorySlot.LegArmor" HorizontalAlignment="Left" MarginTop="-20" MarginLeft="1" />
							</Children>
						</ListPanel>
					</Children>
				</Widget>

				<!-- Rechte Seite: Ausrüstung -->
				<Widget Id="RightEquipments" DataSource="{PlayerInventory}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right">
					<Children>
						<ListPanel StackLayout.LayoutMethod="VerticalBottomToTop" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="100">
							<Children>
								<PEEquipmentSlot Parameter.ItemDataSource="{Item0}" Parameter.EquipmentBrush="PE.InventorySlot.Equipment" HorizontalAlignment="Left" MarginLeft="5" />
								<PEEquipmentSlot Parameter.ItemDataSource="{Item1}" Parameter.EquipmentBrush="PE.InventorySlot.Equipment" HorizontalAlignment="Left" MarginTop="-20" MarginLeft="5" />
								<PEEquipmentSlot Parameter.ItemDataSource="{Item2}" Parameter.EquipmentBrush="PE.InventorySlot.Equipment" HorizontalAlignment="Left" MarginTop="-20" MarginLeft="5" />
								<PEEquipmentSlot Parameter.ItemDataSource="{Item3}" Parameter.EquipmentBrush="PE.InventorySlot.Equipment" HorizontalAlignment="Left" MarginTop="-20" MarginLeft="5" />
							</Children>
						</ListPanel>
					</Children>
				</Widget>

				<!-- Inventar -->
				<Widget HorizontalAlignment="Center" DataSource="{PlayerInventory}" SuggestedHeight="300" SuggestedWidth="800" PositionYOffset="-120" MarginBottom="50">
					<Children>
						<Standard.Window Parameter.Title="">
							<Children>
								<GridWidget Id="InventoryGrid" DataSource="{InventoryItems}" DefaultCellHeight="140" DefaultCellWidth="140" HorizontalAlignment="Center" VerticalAlignment="Center" ColumnCount="5" MarginTop="30" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
									<ItemTemplate>
										<PEInventorySlot DataSource="{..\..}" />
									</ItemTemplate>
								</GridWidget>
							</Children>
						</Standard.Window>
					</Children>
				</Widget>

				<!-- Stockpile Market -->
				<Widget HorizontalAlignment="Center" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="1150" SuggestedHeight="750" VerticalAlignment="Center" MarginBottom="50" PositionYOffset="150" IsVisible="true">
					<Children>
						<Standard.Window Parameter.Title="Stockpile Market" WidthSizePolicy="CoverChildren">
							<Children>

								<!-- Suchfunktion -->
								<ListPanel MarginBottom="5" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren">
									<Children>
										<TextWidget WidthSizePolicy="StretchToParent" Text="Search For Item" MarginTop="45"></TextWidget>
										<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="55" MarginLeft="15" MarginRight="15" MarginTop="15" Sprite="General\CharacterCreation\name_input_area">
											<Children>
												<EditableTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="ClanNaming.NameInput.Text" Text="@NameFilter" GamepadNavigationIndex="0" />
											</Children>
										</Widget>
									</Children>
								</ListPanel>

								<!-- Filter Optionen -->
								<ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center">
									<Children>
										<Standard.DropdownWithHorizontalControl Id="SelectionOption" Parameter.SelectorDataSource="{StockFilter}" Text="Filter By Stock" />
										<Standard.DropdownWithHorizontalControl Id="SelectionOption" Parameter.SelectorDataSource="{ItemTypeFilter}" Text="Filter By Type" />
										<Standard.DropdownWithHorizontalControl Id="SelectionOption" Parameter.SelectorDataSource="{CultureFilter}" Text="Filter By Culture" />
									</Children>
								</ListPanel>

								<!-- Item Liste -->
								<ScrollablePanel Id="ScrollablePanel" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
									<Children>
										<ListPanel Id="ItemList" DataSource="{FilteredItemList}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop">
											<ItemTemplate>
												<PEStockpileMarketItem Parameter.ItemDataSource="{..\..}"></PEStockpileMarketItem>
											</ItemTemplate>
										</ListPanel>
									</Children>
								</ScrollablePanel>

								<!-- Aktionen -->
								<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren">
									<Children>
										<TextWidget Text="S = Sell Price, B = Buy Price" WidthSizePolicy="CoverChildren" HorizontalAlignment="Center" Brush="PE.Text.Info"></TextWidget>
										<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight">
											<Children>
												<ButtonWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="80" Brush="WideButton.Flat" Command.Click="ExecuteBuy" IsEnabled="@CanExport">
													<Children>
														<TextWidget Text="Buy" Brush="MPLobby.PlayButton.Text" Brush.FontSize="25" />
													</Children>
												</ButtonWidget>
												<ButtonWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="80" Brush="WideButton.Flat" Command.Click="ExecuteUnpackBoxes">
													<Children>
														<TextWidget Text="Unpack Resource Box" Brush="MPLobby.PlayButton.Text" Brush.FontSize="25" />
													</Children>
												</ButtonWidget>
												<ButtonWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="80" Brush="WideButton.Flat" Command.Click="ExecuteSell" IsEnabled="@CanImport">
													<Children>
														<TextWidget Text="Sell" Brush="MPLobby.PlayButton.Text" Brush.FontSize="25" />
													</Children>
												</ButtonWidget>
											</Children>
										</ListPanel>
									</Children>
								</ListPanel>

							</Children>
						</Standard.Window>
					</Children>
				</Widget>

			</Children>
		</Widget>
	</Window>
</Prefab>
